-- Create results table
create table if not exists public.results (
    id bigint generated by default as identity primary key,
    score integer not null,
    total_questions integer not null,
    success_rate decimal(5,2) not null,
    selected_candidate_name text not null,
    selected_candidate_scores jsonb not null,
    total_candidates integer not null,
    rank_position integer not null,
    created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Set up Row Level Security (RLS)
alter table public.results enable row level security;

-- Create policy to allow all operations (since this is a public app)
create policy "Allow all operations for results"
    on public.results
    for all
    using (true)
    with check (true);
